# üîÑ LAZARUS Migration ‚Äî –ú–∏–≥—Ä–∞—Ü–∏—è —Å Bedolaga –Ω–∞ RWP-Shop

<div align="center">

![Version](https://img.shields.io/badge/version-1.0--beta-orange)
![Status](https://img.shields.io/badge/status-TESTING-yellow)
![Platform](https://img.shields.io/badge/platform-Linux-blue)

**üá¨üáß [English version](README.en.md)**

**–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Telegram-–±–æ—Ç–∞ Bedolaga –≤ RWP-Shop (RemnaWave Panel Shop)**

</div>

---

## ‚ö†Ô∏è –î–ò–°–ö–õ–ï–ô–ú–ï–†

> [!CAUTION]
> **–≠–¢–û –¢–ï–°–¢–û–í–´–ô –ü–†–û–î–£–ö–¢!**
> 
> –î–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ **–±–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**.
> 
> **–ò—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –≤—ã:**
> - ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Ä—ë—Ç–µ –Ω–∞ —Å–µ–±—è –≤—Å–µ —Ä–∏—Å–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
> - ‚úÖ –ü–æ–Ω–∏–º–∞–µ—Ç–µ, —á—Ç–æ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏
> - ‚úÖ –°–æ–≥–ª–∞—Å–Ω—ã —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —É—Å—Ç—Ä–∞–Ω—è—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
> 
> **–ê–≤—Ç–æ—Ä –°–ù–ò–ú–ê–ï–¢ –° –°–ï–ë–Ø –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–¨ –∑–∞:**
> - ‚ùå –ü–æ—Ç–µ—Ä—é –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏
> - ‚ùå –ù–µ–ø–æ–ª–Ω—É—é –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
> - ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Ü–µ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã RWP-Shop
> - ‚ùå –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ—Ç–µ—Ä–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π
> - ‚ùå –õ—é–±–æ–π –ø—Ä—è–º–æ–π –∏–ª–∏ –∫–æ—Å–≤–µ–Ω–Ω—ã–π —É—â–µ—Ä–±
> 
> **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å–¥–µ–ª–∞–π—Ç–µ –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø –û–ë–ï–ò–• —Å–∏—Å—Ç–µ–º –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –º–∏–≥—Ä–∞—Ü–∏–∏!**

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ß—Ç–æ —Ç–∞–∫–æ–µ LAZARUS Migration](#-—á—Ç–æ-—Ç–∞–∫–æ–µ-lazarus-migration)
2. [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–∏–≥—Ä–∞—Ç–æ—Ä–∞](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-–º–∏–≥—Ä–∞—Ç–æ—Ä–∞)
3. [–ì–∞–ª–µ—Ä–µ—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤](#-–≥–∞–ª–µ—Ä–µ—è-—Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤)
4. [–¢–∞–±–ª–∏—Ü–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏](#-—Ç–∞–±–ª–∏—Ü–∞-–ø–æ–∫—Ä—ã—Ç–∏—è-–º–∏–≥—Ä–∞—Ü–∏–∏)
5. [–ß—Ç–æ –ù–ï –º–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è](#-—á—Ç–æ-–Ω–µ-–º–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è)
6. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏](#-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–∫-–º–∏–≥—Ä–∞—Ü–∏–∏)
7. [–ü—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏](#-–ø—Ä–æ—Ü–µ—Å—Å-–º–∏–≥—Ä–∞—Ü–∏–∏)
8. [–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏](#-–ø–æ—Å–ª–µ-–º–∏–≥—Ä–∞—Ü–∏–∏)
9. [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ LAZARUS Migration

**LAZARUS Migration** ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ LAZARUS Backup Manager, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Telegram-–±–æ—Ç–∞ **Bedolaga** –≤ **RWP-Shop** (RemnaWave Panel Shop).

### –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –±–æ—Ç–∞ Bedolaga –∏ —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ RWP-Shop, –≤–∞–º –Ω—É–∂–Ω–æ:
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∏—Ö Telegram ID
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –∏—Ö —Å—Ä–æ–∫–∏
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ—Ç–∞ —Å —Ç–µ–º–∏ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

**LAZARUS Migration –¥–µ–ª–∞–µ—Ç –≤—Å—ë —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!**

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–∏–≥—Ä–∞—Ç–æ—Ä–∞

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** | –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ 10 —à–∞–≥–æ–≤ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —É—á–∞—Å—Ç–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| üìä **–ü–æ—à–∞–≥–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** | –†—É—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è |
| ü©∫ **Healthcheck** | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –¥–æ –∏ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ |
| üíæ **–ê–≤—Ç–æ–±—ç–∫–∞–ø** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –ë–î –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º |
| üìÅ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö** | –î–∞–Ω–Ω—ã–µ –±–µ–∑ –∞–Ω–∞–ª–æ–≥–∞ –≤ RWP-Shop —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É |
| ‚öôÔ∏è **–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫** | –ü–µ—Ä–µ–Ω–æ—Å —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞, –∫–∞–Ω–∞–ª–æ–≤, —Ç–∞—Ä–∏—Ñ–æ–≤ –∏–∑ .env |
| üìà **–û—Ç—á—ë—Ç—ã** | –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –º–∏–≥—Ä–∞—Ü–∏–∏ |

---

## üì∏ –ì–∞–ª–µ—Ä–µ—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤

### 1Ô∏è‚É£ –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –º–∏–≥—Ä–∞—Ü–∏–∏

<p align="center">
  <img src="assets/menu_migration.svg" alt="–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –º–∏–≥—Ä–∞—Ü–∏–∏" width="600">
</p>

### 2Ô∏è‚É£ –í—ã–±–æ—Ä –∞—Ä—Ö–∏–≤–∞ Bedolaga

<p align="center">
  <img src="assets/menu_select_archive.svg" alt="–í—ã–±–æ—Ä –∞—Ä—Ö–∏–≤–∞" width="600">
</p>

### 3Ô∏è‚É£ –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏–≤–∞

<p align="center">
  <img src="assets/menu_analysis.svg" alt="–ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏–≤–∞" width="600">
</p>

### 4Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)

<p align="center">
  <img src="assets/menu_auto_progress.svg" alt="–ü—Ä–æ–≥—Ä–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏" width="600">
</p>

### 5Ô∏è‚É£ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º

<p align="center">
  <img src="assets/menu_import_warning.svg" alt="–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞" width="600">
</p>

### 6Ô∏è‚É£ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏

<p align="center">
  <img src="assets/menu_results.svg" alt="–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏" width="600">
</p>

### 7Ô∏è‚É£ –ü–∞–ø–∫–∞ NOT_MIGRATED

<p align="center">
  <img src="assets/menu_not_migrated.svg" alt="NOT_MIGRATED" width="600">
</p>

---

## üìä –¢–∞–±–ª–∏—Ü–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏

### –û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ: **~88%**

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | Bedolaga | RWP-Shop | –ü–æ–∫—Ä—ã—Ç–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|----------|----------|:--------:|:------:|
| **üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** | | | **~95%** | ‚úÖ |
| ‚îú‚îÄ telegram_id | telegram_id | telegram_id | 100% | ‚úÖ |
| ‚îú‚îÄ username | username | username | 100% | ‚úÖ |
| ‚îú‚îÄ first_name | first_name | first_name | 100% | ‚úÖ |
| ‚îú‚îÄ last_name | last_name | last_name | 100% | ‚úÖ |
| ‚îú‚îÄ language_code | language_code | language_code | 100% | ‚úÖ |
| ‚îú‚îÄ is_bot | ‚Äî | ‚Äî | ‚Äî | ‚ûñ |
| ‚îú‚îÄ balance | balance_kopeks | ‚Äî | 0% | ‚ùå |
| ‚îú‚îÄ referral_code | referral_code | referral_code | 100% | ‚úÖ |
| ‚îú‚îÄ referred_by | referrer_id | referrer_telegram_id | 100% | ‚úÖ |
| ‚îú‚îÄ created_at | created_at | created_at | 100% | ‚úÖ |
| ‚îî‚îÄ autopay_days_before | autopay_days_before | ‚Äî (–≥–ª–æ–±–∞–ª—å–Ω–æ) | 0% | ‚ö†Ô∏è |
| **üìã –ü–æ–¥–ø–∏—Å–∫–∏** | | | **~90%** | ‚úÖ |
| ‚îú‚îÄ subscription_id | id | id | 100% | ‚úÖ |
| ‚îú‚îÄ user_id | user_telegram_id ‚Üí | user_telegram_id | 100% | ‚úÖ |
| ‚îú‚îÄ remnawave_uuid | remnawave_username | subscription_uuid | 100% | ‚úÖ |
| ‚îú‚îÄ tariff_id | tariff_id | plan_id | 100% | ‚úÖ |
| ‚îú‚îÄ start_date | start_date | start_date | 100% | ‚úÖ |
| ‚îú‚îÄ end_date | end_date | end_date | 100% | ‚úÖ |
| ‚îú‚îÄ status | is_active | is_active | 100% | ‚úÖ |
| ‚îú‚îÄ device_limit | device_limit | ‚Äî (–≤ —Ç–∞—Ä–∏—Ñ–µ) | 0% | ‚ö†Ô∏è |
| ‚îî‚îÄ auto_renew | auto_renew | auto_renew | 100% | ‚úÖ |
| **üí≥ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** | | | **~85%** | ‚úÖ |
| ‚îú‚îÄ transaction_id | id | id | 100% | ‚úÖ |
| ‚îú‚îÄ user_id | user_telegram_id ‚Üí | user_telegram_id | 100% | ‚úÖ |
| ‚îú‚îÄ amount | amount | amount | 100% | ‚úÖ |
| ‚îú‚îÄ currency | ‚Äî | currency | 100% | ‚úÖ |
| ‚îú‚îÄ status | status | status | 100% | ‚úÖ |
| ‚îú‚îÄ payment_system | payment_system | provider | 100% | ‚úÖ |
| ‚îú‚îÄ external_id | external_id | provider_payment_id | 100% | ‚úÖ |
| ‚îú‚îÄ created_at | created_at | created_at | 100% | ‚úÖ |
| ‚îî‚îÄ metadata | metadata | ‚Äî | 0% | ‚ö†Ô∏è |
| **üéüÔ∏è –ü—Ä–æ–º–æ–∫–æ–¥—ã** | | | **~100%** | ‚úÖ |
| ‚îú‚îÄ code | code | code | 100% | ‚úÖ |
| ‚îú‚îÄ type | subscription_days | subscription / discount | 100% | ‚úÖ |
| ‚îú‚îÄ value | subscription_days | duration_days / discount | 100% | ‚úÖ |
| ‚îú‚îÄ usage_limit | max_usages | max_usages | 100% | ‚úÖ |
| ‚îú‚îÄ usage_count | usage_count | usage_count | 100% | ‚úÖ |
| ‚îú‚îÄ expires_at | valid_until | end_date | 100% | ‚úÖ |
| ‚îî‚îÄ bonus_kopeks | bonus_kopeks | ‚Äî | 0% | ‚ùå |
| **üë• –†–µ—Ñ–µ—Ä–∞–ª—ã** | | | **~80%** | ‚úÖ |
| ‚îú‚îÄ referrer_id | referrer_telegram_id | referrer_telegram_id | 100% | ‚úÖ |
| ‚îú‚îÄ referred_id | referred_telegram_id | referred_telegram_id | 100% | ‚úÖ |
| ‚îú‚îÄ bonus | referral_bonus | referral_bonus_days | ~80% | ‚ö†Ô∏è |
| ‚îî‚îÄ created_at | created_at | created_at | 100% | ‚úÖ |
| **‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏** | | | **~85%** | ‚úÖ |
| ‚îú‚îÄ BOT_TOKEN | TELEGRAM_BOT_TOKEN | TELEGRAM_BOT_TOKEN | 100% | ‚úÖ |
| ‚îú‚îÄ CHANNEL_ID | PRIVATE_CHANNEL | CHANNEL_ID | 100% | ‚úÖ |
| ‚îú‚îÄ NEWS_CHANNEL | NEWS_CHANNEL | NEWS_CHANNEL_ID | 100% | ‚úÖ |
| ‚îú‚îÄ ADMIN_IDS | ADMIN_TELEGRAM_IDS | TELEGRAM_ADMIN_IDS | 100% | ‚úÖ |
| ‚îú‚îÄ TARIFFS | ‚Äî (–≤ –ë–î) | ‚Äî (–≤ –ë–î) | 100% | ‚úÖ |
| ‚îî‚îÄ TEXTS | ‚Äî | ‚Äî | ~70% | ‚ö†Ô∏è |

---

## ‚ùå –ß—Ç–æ –ù–ï –º–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è

### –î–∞–Ω–Ω—ã–µ –±–µ–∑ –∞–Ω–∞–ª–æ–≥–∞ –≤ RWP-Shop

| –î–∞–Ω–Ω—ã–µ Bedolaga | –ü—Ä–∏—á–∏–Ω–∞ | –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç |
|-----------------|---------|----------------|
| **–ë–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (`balance_kopeks`) | RWP-Shop –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–µ–Ω–µ–∂–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã | –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `NOT_MIGRATED/user_balances.csv` |
| **–ü—Ä–æ–º–æ–∫–æ–¥—ã –Ω–∞ –±–∞–ª–∞–Ω—Å** (`bonus_kopeks > 0`) | RWP-Shop –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–Ω–∏/—Å–∫–∏–¥–∫–∏ | –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `NOT_MIGRATED/promocodes_balance_type.csv` |
| **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ autopay_days_before** | –í RWP-Shop —ç—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ | –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `NOT_MIGRATED/user_autopay_settings.csv` |
| **device_limit –ø–æ–¥–ø–∏—Å–∫–∏** | –í RWP-Shop –ª–∏–º–∏—Ç –≤ —Ç–∞—Ä–∏—Ñ–µ Remnawave | –ù–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è |
| **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** | –ù–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ –ø–æ–ª—è | –ù–µ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è |
| **TRAFFIC_PACKAGES_CONFIG** | –§—É–Ω–∫—Ü–∏—è –ø–æ–∫—É–ø–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | –ù–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è |
| **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã –≤ –∫–æ–ø–µ–π–∫–∞—Ö** | RWP-Shop –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–Ω–∏ | –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ—Ç–µ—Ä–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ |

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

| –ê—Å–ø–µ–∫—Ç | Bedolaga | RWP-Shop |
|--------|----------|----------|
| **–ë–∞–ª–∞–Ω—Å—ã** | –î–µ–Ω–µ–∂–Ω—ã–µ (–∫–æ–ø–µ–π–∫–∏) | –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç |
| **–ü—Ä–æ–º–æ–∫–æ–¥—ã** | 3 —Ç–∏–ø–∞ (–¥–Ω–∏, –±–∞–ª–∞–Ω—Å, —Å–∫–∏–¥–∫–∞) | 2 —Ç–∏–ø–∞ (–¥–Ω–∏, —Å–∫–∏–¥–∫–∞) |
| **–ê–≤—Ç–æ–ø–ª–∞—Ç—ë–∂** | –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ | –ì–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ |
| **–õ–∏–º–∏—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤** | –í –ø–æ–¥–ø–∏—Å–∫–µ | –í —Ç–∞—Ä–∏—Ñ–µ Remnawave |
| **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã** | –í –∫–æ–ø–µ–π–∫–∞—Ö | –í –¥–Ω—è—Ö –ø–æ–¥–ø–∏—Å–∫–∏ |

---

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏

> [!TIP]
> **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –≤—Ä–µ–º—è:** 30-60 –º–∏–Ω—É—Ç –Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É + 5-15 –º–∏–Ω—É—Ç –Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—é

### üìã –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ:

- [ ] **–°–µ—Ä–≤–µ—Ä —Å RWP-Shop** ‚Äî –±–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞—Ç—å
- [ ] **–ê—Ä—Ö–∏–≤ Bedolaga** ‚Äî —Ñ–∞–π–ª `backup_*.tar.gz` –∏–ª–∏ `backup_*.tar.zip`
- [ ] **SSH –¥–æ—Å—Ç—É–ø** –∫ —Å–µ—Ä–≤–µ—Ä—É —Å RWP-Shop
- [ ] **30-60 –º–∏–Ω—É—Ç** —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- [ ] **–ü–∞—Ä–æ–ª—å –æ—Ç –∞—Ä—Ö–∏–≤–∞** (–µ—Å–ª–∏ –∞—Ä—Ö–∏–≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω)

---

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —Å–∏—Å—Ç–µ–º–µ

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
|-----------|------------|----------|
| –û–° | Linux (Ubuntu 20.04+, Debian 10+, CentOS 8+) | `cat /etc/os-release` |
| Docker | 20.10+ | `docker --version` |
| Docker Compose | 2.0+ | `docker compose version` |
| Bash | 4.0+ | `bash --version` |
| –°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ | 500MB+ | `df -h /` |
| RWP-Shop | –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç | `docker ps \| grep rwp` |

#### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Docker
docker --version
# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥: Docker version 24.x.x –∏–ª–∏ –≤—ã—à–µ

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Docker Compose
docker compose version
# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥: Docker Compose version v2.x.x

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ RWP-Shop –∑–∞–ø—É—â–µ–Ω
docker ps | grep -E "rwp|shop|postgres"
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã: rwp-shop-bot, rwp-shop-postgres

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
docker exec rwp-shop-postgres psql -U shop -d shop -c "SELECT 1;"
# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥: ?column? = 1

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ
df -h /
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 500MB —Å–≤–æ–±–æ–¥–Ω–æ
```

---

### –®–∞–≥ 2: –†–∞–∑–º–µ—â–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ Bedolaga

> [!IMPORTANT]
> **–ê—Ä—Ö–∏–≤ –±—ç–∫–∞–ø–∞ Bedolaga –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ä—è–¥–æ–º —Å docker-compose —Ñ–∞–π–ª–æ–º RWP-Shop.**
>
> –û–±—ã—á–Ω–æ —ç—Ç–æ –ø–∞–ø–∫–∞ `/opt/rwp-shop/` –∏–ª–∏ `/opt/private-remnawave-telegram-shop-bot/`

#### –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
# –ï—Å–ª–∏ –∞—Ä—Ö–∏–≤ –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç–µ —á–µ—Ä–µ–∑ SCP:
scp ~/Downloads/backup_20250101_120000.tar.zip root@–≤–∞—à-—Å–µ—Ä–≤–µ—Ä:/opt/rwp-shop/

# –ò–ª–∏ —á–µ—Ä–µ–∑ SFTP (FileZilla, WinSCP –∏ —Ç.–¥.)
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É RWP-Shop
cd /opt/rwp-shop  # –∏–ª–∏ /opt/private-remnawave-telegram-shop-bot

# –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∞—Ä—Ö–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ
ls -la backup_*.tar.*
```

> [!NOTE]
> **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∞—Ä—Ö–∏–≤ Bedolaga?**
> –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Bedolaga –∏–ª–∏ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –∑–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –±—ç–∫–∞–ø–∞.

---

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ RWP-Shop (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

> [!CAUTION]
> **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!** –ü–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å–¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø RWP-Shop!
> –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫ ‚Äî –≤—ã —Å–º–æ–∂–µ—Ç–µ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è.

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ LAZARUS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ LAZARUS
cd /opt/lazarus-backup
./lazarus

# 2. –í—ã–±–µ—Ä–∏—Ç–µ: 1. –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
# 3. –í—ã–±–µ—Ä–∏—Ç–µ: 4. –ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø (–ë–î + —Ñ–∞–π–ª—ã)
# 4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

# –ë—ç–∫–∞–ø –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ /opt/lazarus-backup/backup/
```

#### –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–æ–π –±—ç–∫–∞–ø PostgreSQL

```bash
# –°–æ–∑–¥–∞—Ç—å –¥–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker exec rwp-shop-postgres pg_dump -U shop -d shop > /root/rwp_shop_backup_$(date +%Y%m%d_%H%M%S).sql

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω
ls -la /root/rwp_shop_backup_*.sql
```

---

### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ LAZARUS Backup Manager

```bash
# –ù–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (DEV-–≤–µ—Ä—Å–∏—è —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π)
bash <(curl -sSL https://raw.githubusercontent.com/UnderGut/LAZARUS-Backup-Manager/dev/lazarus-backup)

# LAZARUS –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ /opt/lazarus-backup
```

#### –ï—Å–ª–∏ LAZARUS —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ dev-–≤–µ—Ä—Å–∏–∏ —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π (–±—ç–∫–∞–ø—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è)
curl -sSL https://raw.githubusercontent.com/UnderGut/LAZARUS-Backup-Manager/dev/lazarus-backup -o /opt/lazarus-backup/lazarus && chmod +x /opt/lazarus-backup/lazarus
```

---

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏–≤–∞ Bedolaga

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∞—Ä—Ö–∏–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π:

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É RWP-Shop (–≥–¥–µ –ª–µ–∂–∏—Ç –∞—Ä—Ö–∏–≤)
cd /opt/rwp-shop

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la backup_*.tar.gz
# –∏–ª–∏
ls -la backup_*.tar.zip

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 1MB –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
du -h backup_*.tar.*

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∞—Ä—Ö–∏–≤–∞
# –î–ª—è .tar.gz:
tar -tzvf backup_*.tar.gz | head -20

# –î–ª—è .tar.zip (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π):
unzip -l backup_*.tar.zip
```

#### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏ –∞—Ä—Ö–∏–≤–∞:

```
backup_20250101_120000/
‚îú‚îÄ‚îÄ database.json          ‚Üê –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
‚îú‚îÄ‚îÄ database_backups/      ‚Üê –ü–∞–ø–∫–∞ —Å –±—ç–∫–∞–ø–∞–º–∏ —Ç–∞–±–ª–∏—Ü
‚îÇ   ‚îú‚îÄ‚îÄ users.json
‚îÇ   ‚îú‚îÄ‚îÄ subscriptions.json
‚îÇ   ‚îú‚îÄ‚îÄ transactions.json
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ config.env             ‚Üê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
‚îî‚îÄ‚îÄ .env                   ‚Üê –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫
```

---

### –®–∞–≥ 6: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∞—Ä–æ–ª—è (–¥–ª—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ä—Ö–∏–≤–æ–≤)

–ï—Å–ª–∏ –≤–∞—à –∞—Ä—Ö–∏–≤ –∏–º–µ–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `.tar.zip` ‚Äî –æ–Ω –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω.

#### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω—É–∂–µ–Ω –ª–∏ –ø–∞—Ä–æ–ª—å:

```bash
# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –±–µ–∑ –ø–∞—Ä–æ–ª—è
unzip -t backup_*.tar.zip

# –ï—Å–ª–∏ –≤—ã–¥–∞—ë—Ç "incorrect password" ‚Äî –ø–∞—Ä–æ–ª—å –Ω—É–∂–µ–Ω
```

> [!NOTE]
> **–ì–¥–µ –Ω–∞–π—Ç–∏ –ø–∞—Ä–æ–ª—å?**
> –ü–∞—Ä–æ–ª—å –æ—Ç –∞—Ä—Ö–∏–≤–∞ –≤—ã –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—ç–∫–∞–ø–∞ –≤ Bedolaga.
> –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Bedolaga, –µ—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ –ø–∞—Ä–æ–ª—å.

---

### üéØ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –º–∏–≥—Ä–∞—Ü–∏–∏ —É–±–µ–¥–∏—Ç–µ—Å—å:

| # | –ü—É–Ω–∫—Ç | –°—Ç–∞—Ç—É—Å |
|---|-------|--------|
| 1 | RWP-Shop —Ä–∞–±–æ—Ç–∞–µ—Ç (`docker ps`) | ‚òê |
| 2 | –ë—ç–∫–∞–ø RWP-Shop —Å–æ–∑–¥–∞–Ω | ‚òê |
| 3 | –ê—Ä—Ö–∏–≤ Bedolaga –≤ –ø–∞–ø–∫–µ RWP-Shop | ‚òê |
| 4 | LAZARUS —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | ‚òê |
| 5 | –ü–∞—Ä–æ–ª—å –æ—Ç –∞—Ä—Ö–∏–≤–∞ –∏–∑–≤–µ—Å—Ç–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω) | ‚òê |
| 6 | 30-60 –º–∏–Ω—É—Ç —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ | ‚òê |

**–í—Å—ë –≥–æ—Ç–æ–≤–æ? –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ [–ü—Ä–æ—Ü–µ—Å—Å—É –º–∏–≥—Ä–∞—Ü–∏–∏](#-–ø—Ä–æ—Ü–µ—Å—Å-–º–∏–≥—Ä–∞—Ü–∏–∏)!**

---

## üöÄ –ü—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏

### üé¨ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–¥–ª—è –Ω–µ—Ç–µ—Ä–ø–µ–ª–∏–≤—ã—Ö)

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å LAZARUS
cd /opt/lazarus-backup
./lazarus

# 2. –í—ã–±—Ä–∞—Ç—å: 5 ‚Üí –ú–∏–≥—Ä–∞—Ü–∏—è
# 3. –í–≤–µ—Å—Ç–∏: YES (–ø—Ä–∏–Ω—è—Ç—å –¥–∏—Å–∫–ª–µ–π–º–µ—Ä)
# 4. –í—ã–±—Ä–∞—Ç—å –∞—Ä—Ö–∏–≤ (–∏–ª–∏ –≤–≤–µ—Å—Ç–∏ –ø—É—Ç—å)
# 5. –í—ã–±—Ä–∞—Ç—å: 1 ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è
# 6. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å: y
# 7. –í–≤–µ—Å—Ç–∏: IMPORT (–∫–æ–≥–¥–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç)
# 8. –í—ã–±—Ä–∞—Ç—å: y (–º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏) –∏–ª–∏ n (–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å)
# 9. –ì–æ—Ç–æ–≤–æ! üéâ
```

---

### –ú–µ—Ç–æ–¥ 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –±—ã—Å—Ç—Ä–∞—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è.

#### üìñ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

##### 1. –ó–∞–ø—É—Å–∫ LAZARUS

```bash
cd /opt/lazarus-backup
./lazarus
```

–í—ã —É–≤–∏–¥–∏—Ç–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é LAZARUS.

##### 2. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –º–µ–Ω—é –º–∏–≥—Ä–∞—Ü–∏–∏

–í–≤–µ–¥–∏—Ç–µ `5` –∏ –Ω–∞–∂–º–∏—Ç–µ Enter:

```
–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ: 5
```

##### 3. –ü—Ä–∏–Ω—è—Ç–∏–µ –¥–∏—Å–∫–ª–µ–π–º–µ—Ä–∞

–í–∞–º –ø–æ–∫–∞–∂—É—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Ä–∏—Å–∫–∞—Ö –º–∏–≥—Ä–∞—Ü–∏–∏. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏ –≤–≤–µ–¥–∏—Ç–µ `YES`:

```
–í–≤–µ–¥–∏—Ç–µ YES –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è: YES
```

> [!WARNING]
> –ï—Å–ª–∏ –≤–≤–µ–¥—ë—Ç–µ —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ ‚Äî –≤–µ—Ä–Ω—ë—Ç–µ—Å—å –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.

##### 4. –í—ã–±–æ—Ä –∞—Ä—Ö–∏–≤–∞ Bedolaga

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥—ë—Ç –∞—Ä—Ö–∏–≤—ã –≤ –ø–∞–ø–∫–µ RWP-Shop –±–æ—Ç–∞ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö.

–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–º–µ—Ä –∞—Ä—Ö–∏–≤–∞ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ `0` –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –ø—É—Ç–∏:

```
–ù–∞–π–¥–µ–Ω–Ω—ã–µ –∞—Ä—Ö–∏–≤—ã:
  1. üì¶ 2025-01-01 12:00 (245 MB) ‚Üê –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
  2. üì¶ 2024-12-31 18:30 (240 MB)
  3. üîí 2024-12-30 06:00 (238 MB)  ‚Üê –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π

–ù–æ–º–µ—Ä —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–æ–º–∞–Ω–¥–∞ (Enter - –ù–∞–∑–∞–¥): 1
```

> [!TIP]
> üîí –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∞—Ä—Ö–∏–≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω ‚Äî –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–æ–ª—å.

##### 5. –í–≤–æ–¥ –ø–∞—Ä–æ–ª—è (–µ—Å–ª–∏ –∞—Ä—Ö–∏–≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω)

–ï—Å–ª–∏ –∞—Ä—Ö–∏–≤ –∑–∞—â–∏—â—ë–Ω –ø–∞—Ä–æ–ª–µ–º:

```
‚ö†Ô∏è –ê—Ä—Ö–∏–≤ –∑–∞—â–∏—â—ë–Ω –ø–∞—Ä–æ–ª–µ–º

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: ********
‚úÖ –ü–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–π
```

##### 6. –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∞—Ä—Ö–∏–≤–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ –º–µ–Ω—é –º–∏–≥—Ä–∞—Ü–∏–∏. –í—ã–±–µ—Ä–∏—Ç–µ `1`:

```
‚îÄ‚îÄ‚îÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ ‚îÄ‚îÄ‚îÄ
 1. üöÄ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ú–ò–ì–†–ê–¶–ò–Ø (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
    –ü–µ—Ä–µ–Ω–µ—Å—ë—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

–í—ã–±–æ—Ä (Enter - –ù–∞–∑–∞–¥): 1
```

##### 7. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏. –í–≤–µ–¥–∏—Ç–µ `y`:

```
–ë—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

  [1/10] üè• Healthcheck –∞—Ä—Ö–∏–≤–∞ –∏ –ë–î
  [2/10] üîç –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏–≤–∞ Bedolaga
  [3/10] üíæ –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –ë–î RWP-Shop
  [4/10] üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∞—Ä—Ö–∏–≤–∞
  [5/10] üí∞ –ê–Ω–∞–ª–∏–∑ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞–ª–∞–Ω—Å–æ–≤
  [6/10] üîÑ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  [7/10] üì• –ò–º–ø–æ—Ä—Ç –≤ RWP-Shop
  [8/10] ‚öôÔ∏è  –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  [9/10] üìÅ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  [10/10] üìã –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ + –§–∏–Ω–∞–ª—å–Ω—ã–π healthcheck

–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/N): y
```

##### 8. –ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º

–ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –í—ã —É–≤–∏–¥–∏—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å:

```
‚úÖ [1/10] Healthcheck –∞—Ä—Ö–∏–≤–∞ –∏ –ë–î
‚úÖ [2/10] –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏–≤–∞ Bedolaga
   ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 1247
   ‚Üí –ü–æ–¥–ø–∏—Å–æ–∫: 1089
   ‚Üí –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: 3456
‚úÖ [3/10] –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –ë–î RWP-Shop
   ‚Üí /opt/lazarus-backup/backup/pre_migration_20250101_120000.sql
‚úÖ [4/10] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∞—Ä—Ö–∏–≤–∞
‚úÖ [5/10] –ê–Ω–∞–ª–∏–∑ –±–∞–ª–∞–Ω—Å–æ–≤
   ‚ö†Ô∏è 847 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º –±–∞–ª–∞–Ω—Å–æ–º
‚úÖ [6/10] –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
```

##### 9. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞ (–í–ê–ñ–ù–û!)

–ü–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏ –ø–æ–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï! –ò–ó–ú–ï–ù–ï–ù–ò–ï –ë–ê–ó–´ –î–ê–ù–ù–´–•                               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                    ‚îÇ
‚îÇ  –°–µ–π—á–∞—Å –±—É–¥—É—Ç –≤–Ω–µ—Å–µ–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î RWP-Shop:                    ‚îÇ
‚îÇ                                                                    ‚îÇ
‚îÇ  ‚Ä¢ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: rwp-shop-postgres                                   ‚îÇ
‚îÇ  ‚Ä¢ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: shop                                              ‚îÇ
‚îÇ                                                                    ‚îÇ
‚îÇ  üîí –ë—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–π –ë–î —Å–æ–∑–¥–∞–Ω:                                       ‚îÇ
‚îÇ     /opt/lazarus-backup/backup/pre_migration_20250101_120000.sql  ‚îÇ
‚îÇ                                                                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–í–≤–µ–¥–∏—Ç–µ 'IMPORT' –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: IMPORT
```

> [!CAUTION]
> –í–≤–µ–¥–∏—Ç–µ **IMPORT** –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏! –õ—é–±–æ–π –¥—Ä—É–≥–æ–π –≤–≤–æ–¥ –æ—Ç–º–µ–Ω–∏—Ç –∏–º–ø–æ—Ä—Ç.

##### 10. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```
[10/10] –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫...

–•–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ Bedolaga –≤ RWP-Shop?
  ‚Ä¢ –ë—É–¥—É—Ç –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã: —Ç–æ–∫–µ–Ω –±–æ—Ç–∞, –∫–∞–Ω–∞–ª—ã, —Ç–∞—Ä–∏—Ñ—ã, —Ç–µ–∫—Å—Ç—ã –∏ –¥—Ä.
  ‚Ä¢ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env –±—É–¥—É—Ç –∑–∞–º–µ–Ω–µ–Ω—ã

–ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏? (y/n): y
```

- **y** ‚Äî –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞, –∫–∞–Ω–∞–ª—ã, –∞–¥–º–∏–Ω–æ–≤ –∏ —Ç.–¥.
- **n** ‚Äî –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ RWP-Shop

##### 11. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  ‚úÖ –ú–ò–ì–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê!
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 47—Å
  –†–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞: MIGRATION/20250101_120000
  –ù–µ–ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ: MIGRATION/20250101_120000/NOT_MIGRATED

‚ö†Ô∏è –ù–µ –∑–∞–±—É–¥—å—Ç–µ:
  ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –±–æ—Ç–∞
  ‚Ä¢ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞: docker compose restart
```

#### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Ä–∞–∑–¥–µ–ª—É **"–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏"** –Ω–∏–∂–µ.

---

### –ú–µ—Ç–æ–¥ 2: –ü–æ—à–∞–≥–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** –û–ø—ã—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø.

#### –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```
1. –í—ã–±—Ä–∞—Ç—å –∞—Ä—Ö–∏–≤ (–ø—É–Ω–∫—Ç 8)
2. –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏–≤–∞ (–ø—É–Ω–∫—Ç 6)
3. Healthcheck (–ø—É–Ω–∫—Ç 7)
4. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (–ø—É–Ω–∫—Ç 2)
5. –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è (–ø—É–Ω–∫—Ç 3)
6. –ò–º–ø–æ—Ä—Ç (–ø—É–Ω–∫—Ç 4)
7. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–ø—É–Ω–∫—Ç 5)
```

#### –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø—É–Ω–∫—Ç–∞:

| –ü—É–Ω–∫—Ç | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|:-----:|----------|----------|
| **1** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è | –í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ |
| **2** | –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö | –ò–∑–≤–ª–µ–∫–∞–µ—Ç JSON –∏–∑ –∞—Ä—Ö–∏–≤–∞, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ CSV |
| **3** | –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ Bedolaga ‚Üí RWP-Shop |
| **4** | –ò–º–ø–æ—Ä—Ç | –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ PostgreSQL RWP-Shop |
| **5** | –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ | –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç —Ç–æ–∫–µ–Ω, –∫–∞–Ω–∞–ª—ã, —Ç–∞—Ä–∏—Ñ—ã –∏–∑ .env |
| **6** | –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏–≤–∞ | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–∞–Ω–Ω—ã—Ö –≤ –∞—Ä—Ö–∏–≤–µ |
| **7** | Healthcheck | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å CSV –∏ –ë–î |
| **8** | –í—ã–±—Ä–∞—Ç—å –∞—Ä—Ö–∏–≤ | –ú–µ–Ω—è–µ—Ç –∞—Ä—Ö–∏–≤ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ |

---

## ‚úÖ –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### üìã –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

| # | –î–µ–π—Å—Ç–≤–∏–µ | –ö–æ–º–∞–Ω–¥–∞ | –°—Ç–∞—Ç—É—Å |
|---|----------|---------|--------|
| 1 | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ | `docker compose restart` | ‚òê |
| 2 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ | `docker compose logs bot --tail 100` | ‚òê |
| 3 | –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –≤ Telegram | –ù–∞–∂–∞—Ç—å /start | ‚òê |
| 4 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å | –ù–∞–∂–∞—Ç—å "–ü—Ä–æ—Ñ–∏–ª—å" | ‚òê |
| 5 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ | –ù–∞–∂–∞—Ç—å "–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏" | ‚òê |
| 6 | –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å NOT_MIGRATED | –°–º. –∫–æ–º–∞–Ω–¥—É –Ω–∏–∂–µ | ‚òê |

---

### –®–∞–≥ 1: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É RWP-Shop
cd /opt/rwp-shop
# –∏–ª–∏
cd /opt/private-remnawave-telegram-shop-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose restart

# –ò–ª–∏ —Ç–æ–ª—å–∫–æ –±–æ—Ç–∞
docker compose restart bot
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker compose logs -f bot

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
docker compose logs bot --tail 100

# –ò—Å–∫–∞—Ç—å –æ—à–∏–±–∫–∏
docker compose logs bot 2>&1 | grep -i error
```

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:**
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–ø—É—Å–∫–µ
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫
- ‚ùå `Error`, `error` ‚Äî –æ—à–∏–±–∫–∏ (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è)
- ‚ùå `Exception`, `exception` ‚Äî –∏—Å–∫–ª—é—á–µ–Ω–∏—è

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Telegram

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞** –≤ Telegram
2. **–ù–∞–∂–º–∏—Ç–µ /start** –∏–ª–∏ –∫–Ω–æ–ø–∫—É "–ù–∞—á–∞—Ç—å"
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
   - –ü—Ä–æ—Ñ–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
   - –ü–æ–¥–ø–∏—Å–∫–∏ –≤–∏–¥–Ω—ã
   - –ö–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL
docker exec -it rwp-shop-postgres psql -U shop -d shop

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT COUNT(*) as users FROM customer;

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å–æ–∫
SELECT COUNT(*) as subscriptions FROM customer WHERE subscription_uuid IS NOT NULL;

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã
SELECT COUNT(*) as promocodes FROM promo;

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
SELECT COUNT(*) as purchases FROM purchase;

# –í—ã–π—Ç–∏
\q
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –ø–∞–ø–∫–µ RWP-Shop –±–æ—Ç–∞:

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É RWP-Shop
cd /opt/rwp-shop  # –∏–ª–∏ /opt/private-remnawave-telegram-shop-bot

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–±–æ—á–∏–µ –ø–∞–ø–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
ls -la MIGRATION/

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–ª–æ—Å—å (–≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–∞–ø–∫–µ –º–∏–≥—Ä–∞—Ü–∏–∏)
ls -la MIGRATION/*/NOT_MIGRATED/

# –ü—Ä–æ—á–∏—Ç–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ
cat MIGRATION/*/NOT_MIGRATED/README.txt

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –µ—Å—Ç—å)
head -20 MIGRATION/*/NOT_MIGRATED/user_balances.csv
```

---

### üí∞ –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å –±–∞–ª–∞–Ω—Å–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–í RWP-Shop –Ω–µ—Ç –¥–µ–Ω–µ–∂–Ω—ã—Ö –±–∞–ª–∞–Ω—Å–æ–≤. –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±—ã–ª–∏ –¥–µ–Ω—å–≥–∏ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –í—ã–¥–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞–ª–∞–Ω—Å—ã
cat MIGRATION/*/NOT_MIGRATED/user_balances.csv

# –§–æ—Ä–º–∞—Ç: telegram_id,username,balance_kopeks,balance_rub
# –ü—Ä–∏–º–µ—Ä: 123456789,username,15000,150.00
```

–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã –Ω–∞ –¥–Ω–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ –∫—É—Ä—Å—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100‚ÇΩ = 30 –¥–Ω–µ–π).

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –±–æ–ª—å—à–∏–º –±–∞–ª–∞–Ω—Å–æ–º —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é.

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

–ë–∞–ª–∞–Ω—Å—ã –±—É–¥—É—Ç —É—Ç–µ—Ä—è–Ω—ã. –ü–æ–¥—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ —Å—É–º–º—ã –Ω–µ–±–æ–ª—å—à–∏–µ.

---

### üéüÔ∏è –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏ –Ω–∞ –±–∞–ª–∞–Ω—Å

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã –Ω–∞ –±–∞–ª–∞–Ω—Å
cat MIGRATION/*/NOT_MIGRATED/promocodes_balance_type.csv
```

–≠—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã –¥–∞–≤–∞–ª–∏ –¥–µ–Ω—å–≥–∏ –Ω–∞ –±–∞–ª–∞–Ω—Å. –í RWP-Shop –æ–Ω–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã –Ω–∞ –¥–Ω–∏ –ø–æ–¥–ø–∏—Å–∫–∏ —Å –ø–æ—Ö–æ–∂–∏–º–∏ –∫–æ–¥–∞–º–∏.

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### üìã –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

| –°–∏–º–ø—Ç–æ–º | –í–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ | –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ |
|---------|-------------------|-----------------|
| "–ê—Ä—Ö–∏–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω" | –ù–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç—å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø—É—Ç—å |
| "–ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞" | PostgreSQL –Ω–µ –∑–∞–ø—É—â–µ–Ω | `docker compose up -d postgres` |
| "–ü–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π" | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –∞—Ä—Ö–∏–≤–∞ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä, –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–∞—Ä–æ–ª—å |
| "JSON error" | –ü–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π –∞—Ä—Ö–∏–≤ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å: `tar -tzvf –∞—Ä—Ö–∏–≤.tar.gz` |
| –î–æ–ª–≥–∏–π –∏–º–ø–æ—Ä—Ç | –ú–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö | –ù–æ—Ä–º–∞–ª—å–Ω–æ, –∂–¥–∞—Ç—å 5-10 –º–∏–Ω –¥–ª—è 10k+ –∑–∞–ø–∏—Å–µ–π |
| –ë–æ—Ç –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å BOT_TOKEN –≤ .env |

---

### ‚ùå –û—à–∏–±–∫–∞: "–ê—Ä—Ö–∏–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω"

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∫—Ä–∏–ø—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∞—Ä—Ö–∏–≤ Bedolaga.

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
- –§–∞–π–ª –ø–µ—Ä–µ–º–µ—â—ë–Ω –∏–ª–∏ —É–¥–∞–ª—ë–Ω
- –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —á—Ç–µ–Ω–∏–µ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la /–ø—É—Ç—å/–∫/–∞—Ä—Ö–∏–≤—É.tar.gz

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
stat /–ø—É—Ç—å/–∫/–∞—Ä—Ö–∏–≤—É.tar.gz

# 3. –£–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω—ã–π –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å
./lazarus
# ‚Üí –ú–∏–≥—Ä–∞—Ü–∏—è ‚Üí –í—ã–±—Ä–∞—Ç—å –∞—Ä—Ö–∏–≤ ‚Üí –í–≤–µ—Å—Ç–∏ –ø—É—Ç—å

# 4. –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–∞ –¥—Ä—É–≥–æ–º —Å–µ—Ä–≤–µ—Ä–µ - —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–∞–ø–∫—É RWP-Shop
scp user@old-server:/–ø—É—Ç—å/–∞—Ä—Ö–∏–≤.tar.gz /opt/rwp-shop/
```

---

### ‚ùå –û—à–∏–±–∫–∞: "–ë–î RWP-Shop –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞"

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ —É–¥–∞—ë—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL.

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä postgres –Ω–µ –∑–∞–ø—É—â–µ–Ω
- –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ config.env
- –°–µ—Ç—å Docker –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps | grep postgres

# 2. –ï—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω - –∑–∞–ø—É—Å—Ç–∏—Ç—å
cd /opt/rwp-shop  # –ø—É—Ç—å –∫ RWP-Shop
docker compose up -d postgres

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é
docker exec -it rwp-shop-postgres psql -U shop -d shop -c "SELECT 1"

# 4. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏ - –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose down && docker compose up -d

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ LAZARUS config.env
cat /opt/lazarus-backup/config.env | grep RWP
```

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ config.env:**
```bash
RWP_POSTGRES_CONTAINER="rwp-shop-postgres"
RWP_POSTGRES_USER="shop"
RWP_POSTGRES_DB="shop"
```

---

### ‚ùå –û—à–∏–±–∫–∞: "–ü–∞—Ä–æ–ª—å –æ—Ç –∞—Ä—Ö–∏–≤–∞ –Ω–µ–≤–µ—Ä–Ω—ã–π"

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ —É–¥–∞—ë—Ç—Å—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏–≤.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
file /–ø—É—Ç—å/–∫/–∞—Ä—Ö–∏–≤—É.tar.gz

# 2. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é
openssl enc -aes-256-cbc -d -pbkdf2 -in –∞—Ä—Ö–∏–≤.tar.gz.enc -out –∞—Ä—Ö–∏–≤.tar.gz

# 3. –ï—Å–ª–∏ gpg:
gpg --decrypt –∞—Ä—Ö–∏–≤.tar.gz.gpg > –∞—Ä—Ö–∏–≤.tar.gz
```

**–ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –ø–∞—Ä–æ–ª—é:**
- –ü–∞—Ä–æ–ª—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–±–µ–ª—ã –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏ bash: `history | grep backup`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å—Ç–∞—Ä–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

---

### ‚ùå –û—à–∏–±–∫–∞: "–î—É–±–ª–∏–∫–∞—Ç—ã –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ"

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ (duplicate key).

**–ü—Ä–∏—á–∏–Ω–∞:** –î–∞–Ω–Ω—ã–µ —É–∂–µ –±—ã–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã —Ä–∞–Ω–µ–µ.

**–†–µ—à–µ–Ω–∏–µ:**

–ú–∏–≥—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∂–∏–º `ON CONFLICT ... DO UPDATE`, –ø–æ—ç—Ç–æ–º—É –¥—É–±–ª–∏–∫–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç:

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç–∫–∞—Ç–∏—Ç—å –∫ –±—ç–∫–∞–ø—É –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å
docker exec -i rwp-shop-postgres psql -U shop -d shop < /opt/lazarus-backup/backup/pre_migration_XXXXXX.sql

# –í–∞—Ä–∏–∞–Ω—Ç 2: –û—á–∏—Å—Ç–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã (–û–°–¢–û–†–û–ñ–ù–û!)
docker exec -it rwp-shop-postgres psql -U shop -d shop

# –í psql:
TRUNCATE customer, purchase, promo, referral_link CASCADE;
\q

# –ó–∞—Ç–µ–º –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
./lazarus
```

---

### ‚ùå –û—à–∏–±–∫–∞: "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç JSON"

**–ü—Ä–æ–±–ª–µ–º–∞:** JSON –≤ –∞—Ä—Ö–∏–≤–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω –∏–ª–∏ –∏–º–µ–µ—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∞—Ä—Ö–∏–≤–∞
tar -tzvf –∞—Ä—Ö–∏–≤.tar.gz

# 2. –ò–∑–≤–ª–µ—á—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å JSON
cd /tmp
tar -xzf /–ø—É—Ç—å/–∫/–∞—Ä—Ö–∏–≤—É.tar.gz

# 3. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å JSON
cat database_backups/users.json | python3 -m json.tool > /dev/null
# –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Äî —Ñ–∞–π–ª –ø–æ–≤—Ä–µ–∂–¥—ë–Ω

# 4. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
cat database_backups/users.json | python3 -m json.tool | head -50
```

---

### ‚è±Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: –î–æ–ª–≥–∏–π –∏–º–ø–æ—Ä—Ç

**–°–∏–º–ø—Ç–æ–º:** –ò–º–ø–æ—Ä—Ç –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–±–æ–ª–µ–µ 5 –º–∏–Ω—É—Ç).

**–ü—Ä–∏—á–∏–Ω–∞:** –ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö + ON CONFLICT –ø—Ä–æ–≤–µ—Ä–∫–∏.

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è:**
- 5,000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 2-5 –º–∏–Ω—É—Ç
- 10,000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 5-10 –º–∏–Ω—É—Ç
- 50,000+ –∑–∞–ø–∏—Å–µ–π: 15-30 –º–∏–Ω—É—Ç

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- **–ü–æ–¥–æ–∂–¥–∏—Ç–µ** ‚Äî –ø—Ä–æ—Ü–µ—Å—Å –∏–¥—ë—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ù–µ –ø—Ä–µ—Ä—ã–≤–∞–π—Ç–µ –∏–º–ø–æ—Ä—Ç!
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –ª–æ–≥—É: `tail -f /var/log/lazarus_backup.log`

---

### üîÑ –ö–∞–∫ –æ—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –≤—ã –º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å –ë–î –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
# 1. –ù–∞–π—Ç–∏ –±—ç–∫–∞–ø (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º)
ls -la /opt/lazarus-backup/backup/ | grep pre_migration

# –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
# -rw-r--r-- 1 root root 12M Jan 15 12:00 pre_migration_20250115_120000.sql

# 2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
cd /opt/rwp-shop
docker compose stop bot

# 3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ë–î
docker exec -i rwp-shop-postgres psql -U shop -d shop < /opt/lazarus-backup/backup/pre_migration_20250115_120000.sql

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
docker compose start bot

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker compose logs bot --tail 50
```

---

### ü§î –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram
- –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

#### 1. –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω
cd /opt/rwp-shop
cat .env | grep BOT_TOKEN

# –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ: 123456789:ABCdefGHIjklMNOpqrsTUVwxyz
```

#### 2. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë
docker compose down

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker container prune -f

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
docker compose up -d
```

#### 3. –ü—Ä–æ–±–ª–µ–º—ã —Å –ë–î
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
docker exec -it rwp-shop-postgres psql -U shop -d shop -c "SELECT COUNT(*) FROM customer"
```

---

### üìã –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

```bash
# –õ–æ–≥–∏ LAZARUS
tail -100 /var/log/lazarus_backup.log

# –õ–æ–≥–∏ –±–æ—Ç–∞ RWP-Shop
docker compose logs bot --tail 100

# –õ–æ–≥–∏ PostgreSQL
docker compose logs postgres --tail 100

# –í—Å–µ –ª–æ–≥–∏ —Å –ø–æ–∏—Å–∫–æ–º –æ—à–∏–±–æ–∫
docker compose logs 2>&1 | grep -i "error\|exception\|fail"
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   tail -100 /var/log/lazarus_backup.log
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ Issue –Ω–∞ GitHub:**
   - –ü—Ä–∏–ª–æ–∂–∏—Ç–µ –ª–æ–≥ –æ—à–∏–±–∫–∏
   - –£–∫–∞–∂–∏—Ç–µ –≤–µ—Ä—Å–∏—é LAZARUS
   - –û–ø–∏—à–∏—Ç–µ —à–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

3. **Telegram:** [@UnderGut](https://t.me/UnderGut)

---

<div align="center">

**LAZARUS Backup Manager** ‚Äî –ù–∞–¥—ë–∂–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è RWP-Shop

Made with ‚ù§Ô∏è by [UnderGut](https://github.com/UnderGut)

</div>
